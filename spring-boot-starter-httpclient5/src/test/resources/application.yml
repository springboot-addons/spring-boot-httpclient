app.httpbin-host : httpbin.org

logging:
  level:
    io.github.springboot.httpclient5.core: DEBUG

spring:
  application:
    name: tu-springboot-httpclient5
  httpclient5:
    user-agent: HttpClient5/SRU
    jmx.domain: ${spring.application.name}
    http1:
      buffer-size: 4096
      waitForContinueTimeout: PT32S
    pool:
      max-conn-total: 128
      max-connper-route: 30
      dns-resolver: system
      conn-pool-policy: LIFO
      connection-time-to-live: PT120S
      pool-concurrency-policy: STRICT
      # see properties from org.apache.hc.core5.http.io.SocketConfig
      socket-config:
        so-timeout: PT60S
      host-config:
        '[https://${app.httpbin-host}]': 10 
        '[https://testhost:4443]': 20 
    # See properties from org.apache.hc.client5.http.config.RequestConfig
    request-config:
      '[default]':
        connection-keep-alive: PT30S
        connect-timeout: PT1S
        connection-request-timeout: PT1S 
        response-timeout: PT2S
        retry-config: 
          max-retries: 2
          retry-interval: PT3S
        interceptors:
          '[myinter]': false
        custom-request-context:           
          '[propA]': "abc"
      '[GET https://${app.httpbin-host}/.*]':
        response-timeout: 3000
        interceptors:
          '[myinter]': true
          '[tu-interceptor]': true
        custom-request-context:           
          '[propA]': "surcharge"
          '[propB]': "newOne"
      '[GET https://${app.httpbin-host}/basic-auth/.*]':
        credentials: admin:pwd
        #credentials: BASIC(admin:pwd)
      '[GET https://${app.httpbin-host}/hidden-basic-auth/.*]':
        credentials: PREEMPTIVE(admin:pwd)
      '[POST https://${app.httpbin-host}/.*]':
        response-timeout: 10000
      '[.* https://testhost:4443/.*]':
        proxy: https://localhost:3128
      '[.* https://testhost/.*]':
        response-timeout: 1000
      '[POST https://testhost/.*]':
        connect-timeout: 2000
      '[POST https://testhost/subpath/.*]':
        response-timeout: 3000
        